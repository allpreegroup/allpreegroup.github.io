<!DOCTYPE html>
<html lang="en">
    <html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link rel="stylesheet" href="https://www.allpree.com/css/main.css">
 <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> 
 <link href="//site-assets.fontawesome.com/releases/v6.1.1/css/all.css" rel="stylesheet"> 
<link href="//fonts.googleapis.com/css?family=Space+Mono|Work+Sans:700" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">	

    <meta charset="UTF-8">
	    <title>Sign Up</title>
<style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 40px;
    }
    button {
      padding: 15px 25px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #1e90ff;
      color: white;
      cursor: pointer;
      margin: 20px;
    }
  </style>

 <style>
  #search-container {
    max-width: 100%;
    padding: 1rem;
    margin: 0; /* Ensure no margin around the container */
  }

  #inviteDiv {
    z-index: 9999;
    pointer-events: auto;
  }

  input[type="text"] {
    width: 100%;
    padding: 0.75rem 1.25rem;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 1rem;
    outline: none;
    background-color: #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    margin: 0; /* Make sure no margin is added */
    transition: all 0.3s ease-in-out;
  }

  input[type="text"]:hover,
  input[type="text"]:focus {
    border-color: #007BFF;
    box-shadow: 0 2px 6px rgba(0,123,255,0.2);
  }

  #results-container {
    list-style: none; /* Remove default list styles */
    padding: 0; /* Remove any unwanted padding */
    margin: 0; /* Remove unwanted margin */
    margin-top: 10px; /* Optional space between input and results */
  }

  #results-container .search-result {
    background-color: #ffffff;
    padding: 1rem;
    margin: 0; /* Remove unnecessary margin */
    border-radius: 8px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    transition: box-shadow 0.3s ease-in-out;
    text-align: left; /* Align snippet and text to the left */
    width: 100%; /* Ensure the result width fits container */
  }

  #results-container .search-result:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.12);
  }

  #results-container .search-result p {
    margin-bottom: 0.5rem;
    color: #333;
    text-align: left; /* Align snippet to the left */
  }

  #results-container .search-result a {
    display: inline-block;
    padding: 0.5rem 1rem;
    background-color: #007BFF;
    color: #fff;
    border-radius: 5px;
    text-decoration: none;
    font-weight: 500;
    transition: background-color 0.3s ease;
    text-align: left; /* Ensure link aligns left */
  }

  #results-container .search-result a:hover {
    background-color: #0056b3;
  }
</style>





	
<style>
	  .demo-wrapper {
		  max-width: 80%;
		  margin: 5% auto;
	  }
  </style>
<style>
  .center {
    display: flex;
    justify-content: center;
    align-items: center;
    
  }
</style>

	<script>
  document.addEventListener("DOMContentLoaded", () => {
    const inviteDiv = document.getElementById("inviteDiv");
    const input = document.getElementById("search-input");
    const results = document.getElementById("results-container");
    const countdown = document.getElementById("countdown");
    const image = document.getElementById("persistent-img");

    const firstTimeHeadline = document.getElementById("first-time-headline");
    const returningHeadline = document.getElementById("returning-headline");

    const storedCode = localStorage.getItem("invitationCode");

    // If code exists, show the image and returning headline
    if (storedCode) {
      inviteDiv?.remove();
      if (firstTimeHeadline) firstTimeHeadline.style.display = "none";
      if (returningHeadline) returningHeadline.style.display = "block";
      if (image) image.style.display = "block"; // Show the persistent image
    }

    // If it's the first time, show form and hide image
    if (!storedCode) {
      inviteDiv.style.display = "block";
      if (firstTimeHeadline) firstTimeHeadline.style.display = "block";
      if (returningHeadline) returningHeadline.style.display = "none";
      if (image) image.style.display = "none";
    }

    input?.addEventListener("change", () => {
      const code = input.value.trim();
      if (code) {
        localStorage.setItem("invitationCode", code);
      }
    });

    results?.addEventListener("click", (e) => {
      const link = e.target.closest("a");
      if (link) {
        e.preventDefault(); // Prevent default nav

        const code = input?.value.trim();
        if (code) {
          localStorage.setItem("invitationCode", code);
        }

        if (firstTimeHeadline) firstTimeHeadline.style.display = "none";
        if (returningHeadline) returningHeadline.style.display = "block";
        inviteDiv.style.display = "none";

        countdown.style.display = "block";
        let seconds = 10;
        countdown.textContent = `Redirecting in ${seconds}...`;

        const countdownInterval = setInterval(() => {
          seconds--;
          if (seconds > 0) {
            countdown.textContent = `Redirecting in ${seconds}...`;
          } else {
            clearInterval(countdownInterval);
            countdown.textContent = "Redirecting...";
            window.location.href = link.href;
          }
        }, 1000);
      }
    });

    // Watch for localStorage clearing — hide image when empty
    window.addEventListener("storage", () => {
      const stillStored = localStorage.getItem("invitationCode");
      if (!stillStored && image) {
        image.style.display = "none";
      }
    });

    // Also check manually every 2 seconds (optional fallback)
    setInterval(() => {
      if (!localStorage.getItem("invitationCode") && image.style.display !== "none") {
        image.style.display = "none";
      }
    }, 2000);
  });
</script>





<link rel="manifest" href="https://www.allpree.com/manifest.json">
<script>
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("https://www.allpree.com/service-worker.js")
            .then(() => console.log("Service Worker Registered"))
            .catch((error) => console.log("Service Worker Registration Failed", error));
    }
</script>	
</head>
<body>
<!-- start webpushr tracking code --> 
<script>(function(w,d, s, id) {if(typeof(w.webpushr)!=='undefined') return;w.webpushr=w.webpushr||function(){(w.webpushr.q=w.webpushr.q||[]).push(arguments)};var js, fjs = d.getElementsByTagName(s)[0];js = d.createElement(s); js.id = id;js.async=1;js.src = "https://cdn.webpushr.com/app.min.js";
fjs.parentNode.appendChild(js);}(window,document, 'script', 'webpushr-jssdk'));
webpushr('setup',{'key':'BE2GVRF5mLk7Fp1kzgXE_A5QDGK54HwqN1wEgxczP_fzfugkPREKHebr_Bfzd13eEyrn2rpv_IxZ-H9A4rygXPA' });</script>
<!-- end webpushr tracking code -->

<!-- <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "d4d4a08e-e7f1-49b4-9d7b-0c4c57222df1",
      safari_web_id: "web.onesignal.auto.2d1085e1-a560-4918-b950-42f254dd8495",
      notifyButton: {
        enable: true,
      },
    });
  });
</script> -->

<!-- Fullscreen Overlay -->
 <div id="fullscreenOverlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:#fff; z-index:9999; overflow:auto;">
   <button onclick="smartBack()" style="
     position:absolute;
     top:15px;
     right:15px;
     z-index:10000;
     background:#000;
     color:#fff;
     border:none;
     padding:10px 15px;
     font-size:16px;
     border-radius:8px;
   ">✕ Close</button>
 
   <div id="menuContent" style="padding:20px;"></div>
 </div>
 
 <script>
 function loadMenu() {
   fetch('https://www.allpree.com/menu/')
     .then(response => response.text())
     .then(html => {
       document.getElementById('menuContent').innerHTML = html;
       document.getElementById('fullscreenOverlay').style.display = 'block';
     })
     .catch(err => {
       alert("Failed to load menu.");
       console.error(err);
     });
 }
 
 function smartBack(fallbackUrl = '/balance') {
   const previous = document.referrer;
 
   if (previous && previous !== window.location.href) {
     window.location.href = previous;
   } else {
     window.location.href = fallbackUrl;
   }
 }
 
 </script>


<nav id="mainNav" class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <a href="#" onclick="loadMenu(); return false;">   <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only">Toggle navigation</span> Menu <i class="fa-solid fa-bars"></i>
                </button> 

             </a>
               

           <!--  <a class="navbar-brand page-scroll" href="https://twitter.com/allpreedotcom"><i class="fa-brands fa-twitter"></i></a>
             <a class="navbar-brand page-scroll" href="https://instagram.com/allpreedotcom"><i class="fa-brands fa-instagram"></i></a>
             <a class="navbar-brand page-scroll" href="https://facebook.com/allpreedotcom"><i class="fa-brands fa-facebook"></i></a> -->
             
             <!--    <a class="navbar-brand page-scroll" onclick="history.back()"><i class="fa-solid fa-backward"></i></a>  
             <a class="navbar-brand page-scroll" href="https://www.allpree.com/" >CashBack</a> -->

             
            <a class="navbar-brand page-scroll" href="https://www.allpree.com/contact"><strong></i> <i class="fa-brands fa-whatsapp fa-lg"></i></strong> Sign Up</a>
             <a class="navbar-brand page-scroll" href="https://www.allpree.com/storeapp"><strong><i class="fa-solid fa-shop"></i></strong> Brands</a>
              
	     <!--      <a class="navbar-brand page-scroll" href="https://www.allpree.com/balance" >Balance</a>
             <a class="navbar-brand page-scroll" href="https://www.allpree.com/vouchers"><strong>Bufa-solid fa-housey eVoucher</strong></a>
              <a class="navbar-brand page-scroll" href="https://www.allpree.com/invite" >Earn</a>
              <a class="navbar-brand page-scroll" href="https://www.allpree.com/balance"><strong><i class="fa-solid fa-house"></i> HOME</strong></a>
               
            <!--   <a class="navbar-brand page-scroll" href="https://www.allpree.com/join" >Msg HR</a> -->

              
             
            <!--   <a class="navbar-brand page-scroll" href="https://www.snapchat.com/add/allpreedotcom"><i class="fa-brands fa-snapchat"></i>&nbsp;</a>
             
              <a class="navbar-brand page-scroll" href="https://tiktok.com/@joinwatsapp"><i class="fa-brands fa-tiktok"></i>&nbsp;</a>
             
              <a class="navbar-brand page-scroll">&nbsp;<strong>EVERY Day Is Black Friday!</strong></a>  
      <a class="navbar-brand page-scroll">&nbsp;<strong>Allpree Plus <i class="fa-solid fa-location-plus"></i></strong></a>
             <a class="navbar-brand page-scroll" href=""><strong><i class="fa-brands fa-whatsapp"></i> eCom <i class="fa-brands fa-btc"></i></strong> - Semi Done For You </a> 
             	  <a class="navbar-brand page-scroll" href=""><i class="fa-solid fa-sack-dollar"></i>&nbsp;Investors</a>
              <a class="navbar-brand page-scroll" href=""><i class="fa-solid fa-sack-dollar"></i>&nbsp;Resellers</a>
             <a class="navbar-brand page-scroll" href=""><i class="fa-solid fa-sack-dollar"></i>&nbsp;Referrals</a> 
               -->
              
             
             
            </div>

            <!-- Collect the nav links, forms, and other content for toggling &nbsp; -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <!--  <ul class="nav navbar-nav navbar-right">
                <li>
                   <a class="page-scroll" href="https://www.allpree.com/referral-program" >Refer & Earn</a>
                    </li>
                    <li>
                   <a class="page-scroll" href="https://www.allpree.com/list/">All Stores</a>
                    </li>
                    <li>
                  <a class="page-scroll" href="https://www.allpree.com/balance/"><strong>Check Balance</strong></a> 
                    </li> 
                </ul> -->
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

	<div class="container">
            <div class="row land">
                <div class="home">     
			<div class="center">
                <div class="col-md-6 home-txt1"> <br>

			<h4 id="first-time-headline">OUR WHATSAPP STATUS<br> Add Contacts To Your Phone</h4>
<h4 id="returning-headline" style="display: none;">UPDATE OUR CONTACTS <br> If You Not Seeing Our WhatsApp Status</h4>
			
			<div id="action"></div>
<div id="qr" style="margin-top: 20px;">
    
</div>
			 <hr>
<center> <img id="persistent-img" src="https://www.allpree.com/img/ad2.png" alt="Welcome Back" 
		 style="display: none; 
		 width: 100%;
                 height: 80%; 
		">

		 	<div id="countdown" style="display:none; font-size: 1.5rem; margin-top: 10px; color: red;"></div> </center>
  
	 <!-- Instructions for Android -->
  <div id="inviteDiv" class="instructions android-instructions ios-instructions" style="display: none;">
  

	
	
	<center><h1>BIG DEALS.<br> BIG BRANDS.</h1></center>
        <center><h5>JUST FOR 24 HOURS</h5></center>
           Our <i class="fa-brands fa-whatsapp fa-lg"></i> Status Every Single Day 
	  <br> <br> 
	<center><h5>Enter Your Invitation Code Below</h5></center>
<div id="search-container">
<input type="text" id="search-input" placeholder="Enter Referral Invitation Code Here...">
	<ul id="results-container"></ul>
</div>
<br> <b>NOTE:</b> For security reasons, the search form will disappear as soon as you enter the invitation code and click the link to continue.
  </div>


<script src="/js/jekyll-search.js" type="text/javascript"></script>


<script type="text/javascript">
  fetch('/search.json')
    .then(response => response.json())
    .then(data => {
      // Define keywords or slugs you want to exclude
      const excludeList = ['J016560', 'J035913', 'J057831', 'J065881', 'J088097', 'J095880', 'J145234', 'J162503', 'J170424', 'J212781', 'J231421', 'J298103', 'J324449', 'J428862', 'J445399', 'J536562', 'J580511', 'J724596', 'J749946', 'J842601', 'J875657', 'J888319', 'J954030'];

      // Filter out any items whose URL includes any of the exclude terms
      const filteredData = data.filter(item => {
        return !excludeList.some(exclude => item.url.includes(exclude));
      });

      // Initialize the search with the filtered data
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: filteredData,
        searchResultTemplate: `
          <div class="mb-4 p-4 border rounded-lg bg-white shadow">
            <p class="text-gray-700 mb-2">{snippet}</p>
            <a href="{url}" class="inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Click Here To Continue</a>
          </div>
        `,
        noResultsText: 'Results not found!',
        limit: 1,
        fuzzy: false
      });
    })
    .catch(error => {
      console.error('Search JSON fetch failed:', error);
    });
</script>

			
  <!--  <script type="text/javascript">
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '/search.json',
        searchResultTemplate: '{snippet} <br> <a href="{url}">Click Here To Continue</a>',
        noResultsText: 'Results not found!',
        limit: 1,
        fuzzy: false,
        exclude: ['welcome,J388640']
      })
    </script> -->
	
<script>
  const contactDetails = {
    fullName: "Allpree.com",
    organization: "Allpree.com",
    email: "allpreedotcom@gmail.com",
    website: "https://www.allpree.com",
    address: "Shop #4 Dunbar Mall;Sav-La-Mar;Westmoreland;00000;Jamaica",
    numbers: [
      { type: "whatsapp main", number: "+18762042132" },
      { type: "whatsapp bot", number: "+18762042107" },
      { type: "whatsapp billing", number: "+18764604563" }
    ],
    socialHandles: {
      twitter: "@allpreedotcom",
      facebook: "https://facebook.com/allpreedotcom",
      instagram: "https://instagram.com/allpreedotcom"
    }
  };

  function buildVCardString() {
    let vcard = `BEGIN:VCARD
VERSION:3.0
FN:${contactDetails.fullName}
ORG:${contactDetails.organization}
EMAIL:${contactDetails.email}
URL:${contactDetails.website}
ADR:;;${contactDetails.address}`;

    contactDetails.numbers.forEach(n => {
      vcard += `\nTEL;TYPE=${n.type}:${n.number}`;
    });

    const socials = contactDetails.socialHandles;
    if (socials.twitter) vcard += `\nX-SOCIALPROFILE;TYPE=twitter:${socials.twitter}`;
    if (socials.facebook) vcard += `\nX-SOCIALPROFILE;TYPE=facebook:${socials.facebook}`;
    if (socials.linkedin) vcard += `\nX-SOCIALPROFILE;TYPE=linkedin:${socials.linkedin}`;
    if (socials.instagram) vcard += `\nX-SOCIALPROFILE;TYPE=instagram:${socials.instagram}`;

    vcard += `\nEND:VCARD`;
    return vcard;
  }

  const vCard = buildVCardString();

  function generateVCF() {
    const blob = new Blob([vCard], { type: "text/vcard" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "contact.vcf";
    a.click();
    URL.revokeObjectURL(url);
  }

  const isAndroid = /android/i.test(navigator.userAgent);
  const isIOS = /iphone|ipad|ipod/i.test(navigator.userAgent);
  const actionDiv = document.getElementById("action");
  const qrDiv = document.getElementById("qr");

  if (isAndroid) {
    const contactIntentURL =
      "intent://createContact#Intent;" +
      "scheme=content;" +
      "action=android.intent.action.INSERT;" +
      "type=vnd.android.cursor.dir/contact;" +
      `S.name=${encodeURIComponent(contactDetails.fullName)};` +
      `S.phone=${contactDetails.numbers[0].number};` +
      `S.email=${contactDetails.email};` +
      `S.organization=${encodeURIComponent(contactDetails.organization)};` +
      `S.postal=${encodeURIComponent(contactDetails.address)};` +
      "end;";

    const encodedVCardData = encodeURIComponent(vCard);
    const qrUrl = `https://quickchart.io/qr?text=${encodedVCardData}`;

    function tryIntentFallback() {
  const iframe = document.createElement('iframe');
  iframe.style.display = 'none';
  iframe.src = contactIntentURL;
  document.body.appendChild(iframe);

  // Immediately show both download button and "fallback coming" message
  actionDiv.innerHTML = `
    <p>Oops 😬 didn’t work <br> scan QR code <br>or manually download and add</p>
    <img id="fallbackQR" src="${qrUrl}" alt="QR Code" width="170" height="170" style="border:1px solid #ccc; padding:10px; opacity:0; transition:opacity 0.6s ease;">
    <button onclick="generateVCF()">Download & Import</button>
  `;

  // Fade in the QR code after a short delay for smooth transition
  setTimeout(() => {
    document.getElementById("fallbackQR").style.opacity = 1;
  }, 500);
}


    actionDiv.innerHTML = `
      <button onclick="tryIntentFallback()">Preview Then Add</button>
      
    `;

    qrDiv.innerHTML = `<img src="${qrUrl}" alt="Preload QR" style="display:none;">`;
  } else if (isIOS) {
    actionDiv.innerHTML = `<button onclick="generateVCF()">Preview Then Add</button>`;
  } else {
    actionDiv.innerHTML = `<p>Use a mobile device to add contact</p>`;
  }
</script>




	
<script>
  function closeSplashPage() {
    document.querySelector('.instructions').style.display = 'none';
    document.getElementById('desktop-warning').style.display = 'none';

    if (!localStorage.getItem("instructionsShown")) {
      document.getElementById("additional-instructions").style.display = "block";
      localStorage.setItem("instructionsShown", "true");
    } else {
      window.location.href = "/";
    }
  }

  function showFinalInstructions() {
    document.getElementById('additional-instructions').style.display = 'none';
    document.getElementById('final-instructions').style.display = 'block';
  }

  function finishSetup() {
    window.location.href = "/";
  }

  function detectDevice() {
    if (/android/i.test(navigator.userAgent) || /iPhone|iPad|iPod/i.test(navigator.userAgent)) {
      document.querySelector('.instructions').style.display = 'block';
    } else {
      document.getElementById('desktop-warning').style.display = 'block';
    }
  }

 window.addEventListener("load", detectDevice);
</script>

</body>
</html>
