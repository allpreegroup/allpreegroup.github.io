<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://www.allpree.com/img/AllPreepwaapp.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="192x192" href="https://www.allpree.com/img/AllPreepwaapp.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="32x32" href="https://www.allpree.com/img/AllPreepwaapp.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="96x96" href="https://www.allpree.com/img/AllPreepwaapp.png"/>
<link rel="apple-touch-icon" type="image/png" sizes="16x16" href="https://www.allpree.com/img/AllPreepwaapp.png"/>
  <title>Install Our App</title>
  <link rel="manifest" href="https://www.allpree.com/manifest.json">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: left;
      padding: 20px;
    }
    .instructions {
      background-color: #163A5C;
      color: white;
      text-align: left;
      padding: 20px;
      margin: 10px 0;
    }
    .instructions h2 {
      margin-top: 0;
      align: center;
    }
    .instructions button {
      background-color: #45a049;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      margin: auto;
      margin-top: 20px;
      font-size: 16px;
    }
    .instructions button:hover {
      background-color: #ffc73d;
    }
    .desktop-warning button {
      background-color: #45a049;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      margin: auto;
      margin-top: 20px;
      font-size: 16px;
    }
    .desktop-warning button:hover {
      background-color: #ffc73d;
    }
    .desktop-warning {
      background-color: #163A5C;
      color: white;
      padding: 20px;
      
      margin: auto;
      font-size: 18px;
      max-width: 600px; /* Set max-width for desktop screens */
      width: 100%; /* Allow it to take full width up to max-width */
    }
  </style>
</head>
<body>
<script>
    if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("https://www.allpree.com/service-worker.js")
            .then(() => console.log("Service Worker Registered"))
            .catch((error) => console.log("Service Worker Registration Failed", error));
    }
</script>
 <center>  <h1></h1> </center>

  <!-- Instructions for Android -->
  <div id="android-instructions" class="instructions" style="display: none;">
  <center>  <h2>STEP ONE<br> Install Our Web App</h2></center> 
    <p>Add our web app to your home screen:</p>
    <ol>
      <li>Tap the (menu) in the right corner of your browser.</li>
      <li>Select "Add to Home Screen."</li>
      <li>Tap "Add" and you're done!</li>
    </ol>
  
 <center>  <button onclick="closeSplashPage()"> CONTINUE! </button></center> 
 
  </div>

  <!-- Instructions for iOS -->
  <div id="ios-instructions" class="instructions" style="display: none;">
   <center>  <h2>STEP ONE</h2> </center>
    <p>To add this app to your home screen:</p>
    <ol>
      <li>Tap the Share icon (the square with an arrow) at the bottom of your screen.</li>
      <li>Scroll down and select "Add to Home Screen."</li>
      <li>Tap "Add" in the top-right corner.</li>
    </ol>
  
  <center>  <button onclick="closeSplashPage()"> CONTINUE! </button></center> 

  </div>

  <!-- Desktop User Warning -->
  <div id="desktop-warning" class="desktop-warning" style="display: none;">
    <p>It looks like you're visiting from a desktop! Please visit this site on your mobile phone to add it to your home screen.</p>
  <center>  <button onclick="closeSplashPage()">Got it!</button></center> 
  </div>

 <!-- additional Instructions -->
<div id="additional-instructions" class="instructions" style="display: none;">
  <center><h2>STEP TWO<br>Move To Front Screen</h2></center>
  <ol style="text-align: left;">
    <li>üì± Go to your phone‚Äôs Home Screen</li>
    <li>üîç Find the <strong>AllPree</strong> App icon</li>
    <li>üìå Tap & hold it, then move it to your front page</li>
    <li>üîî Open the app and allow notifications when prompted</li>
  </ol>
  <p style="margin-top: 1.5rem;">You're now ready to start earning cashback üéâ</p>
  <center>
    <button onclick="showFinalInstructions()" style="margin-top: 1rem;">Done</button>
  </center>
</div>

   <!-- Final Instructions -->
  <div id="final-instructions" class="instructions" style="display: none;">
  <center>  <h2>Step Three</h2> </center>
  <p>Enable push notifications:</p>
  <ol style="text-align: left;">
    <li>üîî Open the app</li>
    <li>üì≤ Tap "Allow Notifications" when prompted</li>
  </ol>
<p style="margin-top: 1.5rem;">You're now ready to start earning cashback üéâ</p>
  <center>
    <button onclick="finishSetup()" style="margin-top: 1rem;">Done</button>
  </center>
</div>

  <script>
  function closeSplashPage() {
    // Hide current instructions
    document.getElementById('android-instructions').style.display = 'none';
    document.getElementById('ios-instructions').style.display = 'none';
    document.getElementById('desktop-warning').style.display = 'none';

    // Show additional instructions before final instructions if not already shown
    if (!localStorage.getItem("instructionsShown")) {
      document.getElementById("additional-instructions").style.display = "block";  // Show additional instructions
      localStorage.setItem("instructionsShown", "true");
    } else {
      // If the additional instructions have already been shown, show final instructions
      window.location.href = "/"; // Redirect to home page if already seen
    }
  }

  function showFinalInstructions() {
    // Hide the additional instructions and show the final instructions
    document.getElementById('additional-instructions').style.display = 'none';
    document.getElementById('final-instructions').style.display = 'block';
  }

  function finishSetup() {
    window.location.href = "/"; // Final step complete, go home
  }

  // Detect device and show relevant instructions
  function detectDevice() {
    if (/android/i.test(navigator.userAgent)) {
      document.getElementById('android-instructions').style.display = 'block';
    } else if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
      document.getElementById('ios-instructions').style.display = 'block';
    } else {
      document.getElementById('desktop-warning').style.display = 'block';
    }
  }

  window.onload = detectDevice;
</script>


 
</body>
</html>
