<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jamaica First In-Store Deal Site & Cashback</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/js/dt.main.js" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome for social icons and location icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

 <style>
        /* Custom CSS for header */
        .header-bg {
            background-color: #ffffff; /* White background for the header */
            border-bottom: 1px solid #e5e7eb; /* Light gray border at the bottom */
        }
        .max-w-7xl-custom {
            max-width: 1280px; /* Equivalent to max-w-7xl in Tailwind's default config */
        }

        /* Custom CSS for footer */
        .footer-section {
            background-color: #2C3E50; /* Dark blue background */
            color: white;
            padding: 2rem;
            text-align: center;
            font-size: 0.9rem;
        }
        .footer-section a {
            color: #60a5fa; /* A light blue for links */
            text-decoration: none;
            transition: color 0.2s;
        }
        .footer-section a:hover {
            color: #93c5fd; /* Lighter blue on hover */
            text-decoration: underline;
        }
        .footer-section h3 {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: #ffffff;
        }
        .footer-section ul {
            list-style: none;
            padding: 0;
        }
        .footer-section ul li {
            margin-bottom: 0.5rem;
        }
        .footer-section ul li a {
            color: #d1d5db; /* Lighter gray for footer links */
            font-weight: 400;
        }
        .footer-section ul li a:hover {
            color: #ffffff;
        }

        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4ff; /* Light background */
            color: #333;
            overflow-x: hidden;
            display: flex;
            flex-direction: column; /* Arrange header, main, footer vertically */
            justify-content: space-between; /* Push footer to bottom */
            min-height: 100vh; /* Ensure it takes full viewport height */
        }
        .btn-primary {
            background-color: #007bff; /* Primary blue for CTA */
            color: white;
            padding: 12px 28px; /* Slightly larger padding for main CTA */
            border-radius: 9999px; /* Fully rounded */
            font-weight: 600;
            transition: background-color 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Consistent shadow */
            display: inline-flex; /* For better alignment with icon if added */
            align-items: center;
            justify-content: center;
            gap: 8px; /* Space for potential icon */
        }
        .btn-primary:hover {
            background-color: #0056b3; /* Darker blue on hover */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        .container-wrapper {
            border-radius: 1.5rem; /* Rounded corners for the main container */
            padding: 0; /* Remove padding here, it's inside sections */
            margin: 2rem auto; /* Center horizontally and add vertical margin */
            max-width: 1200px; /* Max width for content */
            width: 95%; /* Responsive width */
            overflow: hidden; /* Ensure rounded corners clip content */
            flex-grow: 1; /* Allow main content to grow and push footer down */
        }

        /* Deal Grid and Cards */
        .deal-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); /* Adjusted minmax for general product cards */
            gap: 1.5rem;
            padding: 2rem;
        }
        .deal-card {
            background-color: #ffffff;
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: left;
            padding-bottom: 1rem;
            /* max-width removed - let grid control width */
        }
        .deal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        .deal-card img {
            width: 100%;
            height: 150px;
            object-fit: contain; /* Changed from 'cover' to 'contain' */
            border-top-left-radius: 0.75rem;
            border-top-right-radius: 0.75rem;
        }
        .discount-badge {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background-color: red;
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 0.5rem;
            font-weight: 600;
            font-size: 0.75rem;
            z-index: 10;
        }
        .deal-content {
            padding: 0.75rem;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex-grow: 1;
        }
        .product-brand-text {
            font-size: 0.875rem;
            color: #6b7280;
            font-weight: 500;
            margin-bottom: 0.25rem;
            white-space: nowrap; /* Re-added for truncation */
            overflow: hidden; /* Re-added for truncation */
            text-overflow: ellipsis; /* Re-added for truncation */
        }

        .deal-title {
            font-weight: 600;
            font-size: 1rem;
            color: #1a202c;
            margin-bottom: 0.25rem;
            height: 1.2rem; /* Fixed height to allow for truncation */
            overflow: hidden; /* Re-added for truncation */
            text-overflow: ellipsis; /* Re-added for truncation */
            display: -webkit-box; /* Re-added for truncation */
            -webkit-line-clamp: 2; /* Re-added for truncation */
            -webkit-box-orient: vertical; /* Re-added for truncation */
        }
        .price-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }
        .price-info {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        .original-price {
            text-decoration: line-through;
            color: #6b7280;
            font-size: 0.875rem;
        }
        .discount-price {
            font-weight: 700;
            color: red;
            font-size: 1.0rem;
        }
        .add-to-cart-button {
            background-color: #2C3E50;
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: .95rem;
            font-weight: 600;
            transition: background-color 0.2s;
            flex-shrink: 0;
        }
        .add-to-cart-button:hover {
            background-color: #34495E;
        }

        /* Current Brand Info Card (now part of the grid) */
        .brand-info-card-grid-item {
            background-color: #2C3E50; /* Default background */
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 1rem; /* Reduced padding to fit better in grid */
            border-radius: 0.75rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Match other deal cards */
            text-align: center;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out; /* Added transitions for consistency */
            /* Ensure it takes full width in its grid cell */
            width: 100%;
            height: 100%;
            /* max-width removed - let grid control width */
        }
        .brand-info-card-grid-item:hover { /* Added hover effect for consistency */
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        .brand-info-card-grid-item .brand-logo-grid {
            width: 120px; /* Slightly smaller logo for grid item */
            height: 100px;
            object-fit: contain;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.2);
            padding: 5px;
            flex-shrink: 0;
            margin-bottom: 0.5rem; /* Space below logo */
        }
        .brand-info-card-grid-item .brand-name-grid {
            font-size: .8rem; /* Slightly smaller font for grid item */
            font-weight: 700;
            margin-bottom: 0.25rem;
        }
        .brand-info-card-grid-item .category-parish-text {
            font-size: 0.85rem;
            font-weight: 500;
            opacity: 0.9;
            margin-bottom: 0.25rem;
        }
        .brand-info-card-grid-item .countdown-text-grid {
            font-size: 0.75rem;
            font-weight: 500;
            color: white; /* Default color for the timer text */
            margin-top: 0.5rem;
        }
        /* New style for timer error messages */
        .brand-info-card-grid-item .countdown-text-grid.error {
            color: #ffb3b3; /* Light red for error messages */
            font-weight: 600;
        }
        /* New class for cashback text on brand card */
        .cashback-brand-text {
            font-size: 0.85rem;
            font-weight: 600;
            color: white; /* Set text color to white */
            margin-top: 0.5rem;
        }

        /* Shop More Deals Button (per brand section) */
        .shop-more-deals-container {
            display: flex;
            justify-content: center;
            padding: 1.5rem 2rem;
            background-color: #ffffff;
            border-radius: 0 0 1.5rem 1.5rem; /* Rounded bottom corners only for the last section */
            box-shadow: 0 -5px 10px rgba(0, 0, 0, 0.03);
        }
        .shop-more-button {
            background-color: #2C3E50;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background-color 0.2s;
        }
        .shop-more-button:hover {
            background-color: #34495E;
        }
        .shop-more-button svg {
            width: 16px;
            height: 16px;
            fill: white;
        }

        /* Popup Styles */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        .popup-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.25);
            max-width: 600px;
            width: 90%;
            position: relative;
            animation: fadeInScale 0.3s ease-out;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        .popup-close {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #6b7280;
            cursor: pointer;
            transition: color 0.2s;
        }
        .popup-close:hover {
            color: #ef4444;
        }
        .popup-img {
            width: 100%;
            max-height: 200px; /* Adjusted max-height */
            object-fit: contain;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            background-color: #f8fafc;
            padding: 1rem;
        }
        .popup-title {
            font-size: 1rem;
            font-weight: 800;
            color: #1a202c;
            margin-bottom: 0.75rem;
        }
        .popup-brand {
            font-size: 1.125rem;
            color: #4a5568;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        .popup-price-info-popup {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        .popup-price {
            text-decoration: line-through;
            color: #6b7280;
            font-size: 1rem;
        }
        .popup-discount {
            font-weight: 700;
            color: red;
            font-size: 1.125rem;
        }
        .popup-desc {
            color: #4a5568;
            font-size: 0.5rem;
            line-height: .6rem;
            margin-bottom: 1.5rem;
        }
        .popup-badge {
            position: absolute;
            top: 0.75rem;
            left: 0.75rem;
            background-color: #ef4444;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.75rem;
            font-weight: 700;
            font-size: 1rem;
            margin-top: 1rem;
        }
        .shop-button {
            background-color: #3f51b5;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        .shop-button:hover {
            background-color: #303f9f;
        }

        /* Floating Categories Styles */
        .floating-categories-container {
            background-color: #f8fafc; /* Light gray background for the floating bar */
            padding: 0.75rem 0; /* Vertical padding only */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 70px; /* Adjust based on your header's height */
            z-index: 40; /* Below header, above main content */
            border-bottom: 1px solid #e5e7eb;
            width: 100%; /* Ensures the background spans the full width of the page */
        }
        .categories-list-wrapper { /* This new wrapper centers the content and handles scrolling */
            max-width: 1280px; /* Equivalent to max-w-7xl in Tailwind's default config */
            margin: 0 auto; /* Centers the content within the full-width container */
            padding: 0 1rem; /* Added horizontal padding for content inside */
            overflow-x: auto; /* Now this element handles horizontal scrolling */
            white-space: nowrap; /* Prevent items from wrapping here */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        }
        /* Scrollbar hiding for the categories-list-wrapper */
        .categories-list-wrapper::-webkit-scrollbar {
            display: none; /* For Chrome, Safari, and Opera */
        }
        .categories-list-wrapper {
            -ms-overflow-style: none;  /* For Internet Explorer and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        .categories-list {
            display: flex;
            align-items: center;
            gap: 1rem; /* Space between category items */
        }
        .category-item {
            display: inline-flex; /* Keep items inline for horizontal scroll */
            flex-direction: column;
            align-items: center;
            padding: 0.5rem 0.75rem;
            border-radius: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.1s ease-in-out;
            flex-shrink: 0; /* Prevent items from shrinking */
        }
        .category-item:hover {
            background-color: #e2e8f0; /* Light hover effect */
            transform: translateY(-2px);
        }
        .category-item.active {
            background-color: #dbeafe; /* Tailwind blue-100 for active state */
            border: 1px solid #93c5fd; /* Tailwind blue-300 border */
        }
        .category-name {
            font-size: 0.75rem; /* Smaller text for category names */
            font-weight: 500;
            color: #4a5568;
            text-align: center;
            white-space: normal; /* Allow text to wrap */
            overflow: visible; /* Ensure content is visible */
            text-overflow: clip; /* Prevent ellipsis */
            max-width: none; /* Remove max-width constraint */
        }

        /* Styles for combined search/dropdown container */
        .combined-search-container {
            display: flex;
            border: 1px solid #d1d5db; /* Gray-300 */
            border-radius: 0.5rem; /* Rounded-lg */
            overflow: hidden; /* Ensures inner elements respect the container's border-radius */
            flex-grow: 1;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* Shadow-sm */
            height: 42px; /* Fixed height for consistent alignment */
        }
        .combined-search-container:focus-within {
            border-color: transparent; /* Hide individual border on focus */
            box-shadow: 0 0 0 2px #2C3E50; /* Focus ring */
            outline: none;
        }

        /* Styles for the search input field */
        .combined-search-container input[type="text"] {
            border: none; /* Remove individual border */
            border-radius: 0; /* Remove individual border-radius */
            padding-left: 2.5rem; /* Space for icon */
            flex-grow: 1;
            background-color: white;
            outline: none; /* Remove focus outline */
            padding-top: 0.5rem; /* py-2 */
            padding-bottom: 0.5rem; /* py-2 */
            font-size: 0.875rem; /* text-sm */
            color: #333;
        }
        .combined-search-container input[type="text"]::placeholder {
            color: #9ca3af; /* Placeholder color */
        }

        /* Styles for the parish dropdown */
        .combined-search-container select.parish-select {
            border: none; /* Remove individual border */
            border-left: 1px solid #e5e7eb; /* Add a separator line */
            border-radius: 0; /* Remove individual border-radius */
            padding-right: 0.75rem; /* Adjust padding as no custom arrow here */
            background-color: #f9fafb; /* Light background color for the dropdown */
            appearance: none; /* Hide default dropdown arrow */
            outline: none; /* Remove focus outline */
            flex-shrink: 0; /* Prevent shrinking */
            width: auto; /* Allow width to be determined by content/padding */
            min-width: 120px; /* Minimum width for the dropdown */
            cursor: pointer;
            padding-top: 0.5rem; /* py-2 */
            padding-bottom: 0.5rem; /* py-2 */
            font-size: 0.875rem; /* text-sm */
            color: #333;
            transition: background-color 0.2s ease-in-out; /* Added transition for hover */
            text-align: center; /* Center the selected text in the dropdown */
            text-align-last: center; /* For Firefox to center selected text */
        }
        .combined-search-container select.parish-select:hover {
            background-color: #f5f5f5; /* Slightly darker light hover background */
        }

        /* Styles for the town dropdown */
        .combined-search-container select.town-select {
            border: none; /* Remove individual border */
            border-left: 1px solid #e5e7eb; /* Add a separator line */
            border-radius: 0; /* Remove individual border-radius */
            padding-right: 2.5rem; /* Space for custom arrow */
            background-color: #f9fafb; /* Light background color for the dropdown */
            appearance: none; /* Hide default dropdown arrow */
            outline: none; /* Remove focus outline */
            flex-shrink: 0; /* Prevent shrinking */
            width: auto; /* Allow width to be determined by content/padding */
            min-width: 120px; /* Minimum width for the dropdown */
            cursor: pointer;
            padding-top: 0.5rem; /* py-2 */
            padding-bottom: 0.5rem; /* py-2 */
            font-size: 0.875rem; /* text-sm */
            color: #333;
            transition: background-color 0.2s ease-in-out; /* Added transition for hover */
            text-align: center; /* Center the selected text in the dropdown */
            text-align-last: center; /* For Firefox to center selected text */
        }
        .combined-search-container select.town-select:hover {
            background-color: #f5f5f5; /* Slightly darker light hover background */
        }

        .combined-search-container select option {
            color: #333; /* Ensure option text color is readable */
            text-align: center; /* Attempt to center options in the dropdown list */
        }

        /* Styles for the search icon wrapper */
        .combined-search-container .search-icon-wrapper {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            padding-left: 0.75rem; /* pl-3 */
            display: flex;
            align-items: center;
            pointer-events: none;
            z-index: 1; /* Ensure icon is above input */
        }

        /* Styles for the dropdown arrow wrapper (only for the last select) */
        .combined-search-container .dropdown-arrow-wrapper {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            padding-right: 0.5rem; /* px-2 */
            display: flex;
            align-items: center;
            pointer-events: none;
            z-index: 1; /* Ensure arrow is above select */
        }

        /* Loading Overlay Styles */
        #loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000; /* High z-index to cover everything */
            transition: opacity 0.3s ease-in-out;
        }

        /* Explicit hidden class for the overlay */
        #loading-overlay.hidden {
            display: none !important; /* Added !important */
        }

        .spinner {
            border: 8px solid #f3f3f3; /* Light grey */
            border-top: 8px solid #3498db; /* Blue */
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Featured Brands Section Styles */
        #featured-brands-section {
            background-color: transparent; /* Changed to transparent */
            border-radius: 0.75rem;
            padding: 1rem;
            /* Removed flex-direction: column and align-items: center */
            text-align: center;
            box-shadow: none; /* Removed shadow for transparent background */
            /* Removed flex properties here, they are on the container now */
        }

        #featured-brands-container {
            display: flex; /* Changed to flex */
            flex-wrap: nowrap; /* Prevent wrapping */
            overflow-x: auto; /* Enable horizontal scrolling */
            justify-content: flex-start; /* Align items to the start */
            gap: 1rem; /* Space between cards */
            padding: 1rem 0; /* Add some vertical padding for scrollbar */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            /* Hide scrollbar */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none;  /* IE and Edge */
        }

        #featured-brands-container::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        .featured-brand-card {
            background-color: #f8fafc; /* Light background */
            border-radius: 0.75rem;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            flex-shrink: 0; /* Prevent shrinking */
            min-width: 150px; /* Minimum width for each card */
            max-width: 200px; /* Maximum width for each card */
        }

        .featured-brand-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            background-color: #e2e8f0; /* Slightly darker hover */
        }

        .featured-brand-card.active {
            border: 2px solid #3f51b5; /* Highlight active card */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            background-color: #e0e7ff; /* Light blue background for active */
        }

        .featured-brand-card img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 50%;
            margin-bottom: 0.5rem;
            background-color: white;
            padding: 5px;
        }

        .featured-brand-card .brand-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: #333;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%; /* Ensure text truncates within the card */
        }

        /* Responsive adjustments for featured brands */
        /* These media queries are less critical now that it's a horizontal scroll,
           but can still fine-tune min-width if needed */
        @media (max-width: 1024px) {
            .featured-brand-card {
                min-width: 140px;
            }
        }

        @media (max-width: 768px) {
            .featured-brand-card {
                min-width: 120px;
            }
        }

        @media (max-width: 640px) {
            .featured-brand-card {
                min-width: 100px;
            }
        }

        @media (max-width: 480px) {
            .featured-brand-card {
                min-width: 90px;
            }
        }

        /* Today's Special Brand Section Styles */
        #top-special-brand-section { /* Renamed from single-featured-brand-section */
            background: linear-gradient(to right, #6366f1, #8b5cf6); /* Indigo to Violet gradient */
            color: white;
            padding: 1rem 1rem; /* More padding */
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            margin: 1rem auto; /* Center horizontally and add vertical margin */
            max-width: 1200px; /* Changed from 800px to 1200px */
            width: 100%;
            text-align: center;
            display: flex; /* Use flex for centering content */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1.5rem; /* Space between title and card */
        }

        #top-special-brand-section h2 {
            font-size: 2.5rem; /* Larger title */
            font-weight: 900;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 0; /* Adjusted margin */
        }

        #todays-special-brand-content {
            width: 100%; /* Ensure the grid container takes full width of its parent */
        }

        /* Specific grid layout for the special brand section */
        #todays-special-brand-content.special-deal-grid-layout {
            /* Updated to use fluid units and auto-fill */
            grid-template-columns: repeat(auto-fill, minmax(min-content, 1fr));
            justify-content: center; /* Center the grid within its container */
            align-items: stretch; /* Ensure items stretch to fill cell height */
        }

        /* Responsive adjustments for special-deal-grid-layout */
        /* Removed fixed max-width from cards within media queries */
        @media (max-width: 1200px) {
            #todays-special-brand-content.special-deal-grid-layout {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
        }
        @media (max-width: 1000px) {
            #todays-special-brand-content.special-deal-grid-layout {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }
        }
        @media (max-width: 768px) {
            #todays-special-brand-content.special-deal-grid-layout {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
        }

        /* Beta Sign Styles */
        .beta-sign {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: #ef4444; /* Red background */
            color: white;
            padding: 5px 10px;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            z-index: 100; /* Ensure it's above other content */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <!-- Beta Sign -->
    <div class="beta-sign">BETA</div>

    <!-- Header -->
    <header class="header-bg py-4 sticky top-0 z-50">
        <div class="max-w-7xl-custom mx-auto px-6 flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <!-- Allpree Logo -->
                <img src="https://www.allpree.com/img/allpree.com.logo.ja.png" alt="Allpree Logo" class="h-14 w-auto">
            </div>

            <!-- Combined Search and Location Bar Container -->
            <div class="flex flex-grow mx-4 max-w-2xl">
                <div class="relative flex-grow combined-search-container">
                    <div class="search-icon-wrapper">
                        <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </div>
                    <input type="text" id="brandSearchInput" placeholder="Search brands..." class="py-2">

                    <select id="parishSelect" class="py-2 parish-select">
                        <!-- Options populated by JS -->
                    </select>
                     
                    <select id="townSelect" class="py-2 town-select">
                        <!-- Options populated by JS -->
                    </select>
                    <div class="dropdown-arrow-wrapper">
                        <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Desktop Navigation - Hidden on mobile -->
            <nav class="hidden md:block">
                <ul class="flex space-x-6 text-gray-700 font-medium">
                   <li><a href="https://www.allpree.com/getapp" class="btn-primary py-2 px-6 text-base shadow-md">Get The App</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Floating Categories Section -->
    <div id="floating-categories-container" class="floating-categories-container">
        <div class="categories-list-wrapper"> <!-- This wrapper now handles horizontal scrolling -->
            <div id="categories-list" class="categories-list">
                <!-- "All Brands" category item -->
                <div class="category-item active" data-filter-type="category" data-filter-value="all">
                    <span class="category-name">All Categories</span>
                </div>
                <!-- Dynamic category items will be inserted here by JavaScript -->
            </div>
        </div>
    </div >

    <!-- Featured Brands Section -->
    <div id="featured-brands-section" class="py-8 bg-white  shadow-lg mb-8 overflow-hidden hidden max-w-7xl-custom mx-auto px-6">
        <!-- Removed H2: <h2 class="text-center text-2xl font-bold text-gray-800 mb-6">Featured Brands</h2> -->
        <div id="featured-brands-container" class="flex flex-wrap justify-center gap-4">
            <!-- Featured brand cards will be inserted here by JavaScript -->
        </div>
    </div>

    <!-- Today's Special Brand Section (Moved to be below Featured Brands) -->
    <div id="top-special-brand-section" class="py-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-2xl shadow-lg mb-8 overflow-hidden">
        <!-- Removed H2: <h2 class="text-center text-2xl font-bold mb-6">Today's Special Brand</h2> -->
        <div id="todays-special-brand-content" class="deal-grid special-deal-grid-layout">
            <!-- Special Brand Info Card and its Deals will be inserted here by JavaScript -->
        </div>
        <div id="shop-more-container-special" class="">
            <button class="shop-more-button" onclick="loadMoreDealsForSpecialBrand()">
                <span id="shop-more-count-special">View More Deals</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 21l-8-8 1.41-1.41L11 17.17V3h2v14.17l5.59-5.58L20 13z"/></svg>
            </button>
        </div>
    </div>

    <main class="flex-grow flex flex-col items-center">
        <div class="container-wrapper">
            <div id="all-brands-container">
                <!-- Each brand's section will be dynamically added here -->
                <p class="col-span-full text-center text-gray-500 py-4" id="loading-brands-message">Loading Brands...</p>
            </div>
        </div>
    </main>

     <!-- Footer -->
    <footer class="footer-section mt-auto">
        <div class="max-w-7xl-custom mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-4 gap-8 text-left">
            <!-- About Allpree Column -->
            <div class="col-span-1 md:col-span-1">
                <h3 class="text-white mb-4">About Allpree</h3>
                <p class="text-gray-300 text-sm leading-relaxed">
                    Allpree shows you the best local deals. From groceries to fashion and many more. We help you save every day. We search high and low to bring you unbeatable local prices on the products you love, so you can spend less and enjoy more 
                </p>
                <div class="flex space-x-4 mt-6">
                    <a href="https://www.facebook.com/allpreedotcom" target="_blank" class="text-gray-300 hover:text-white transition-colors duration-200">
                        <i class="fab fa-facebook-f fa-lg"></i>
                    </a>
                    <a href="https://www.instagram.com/allpreedotcom" target="_blank" class="text-gray-300 hover:text-white transition-colors duration-200">
                        <i class="fab fa-instagram fa-lg"></i>
                    </a>
                    <a href="https://www.youtube.com/@allpreedotcom" target="_blank" class="text-gray-300 hover:text-white transition-colors duration-200">
                        <i class="fab fa-youtube fa-lg"></i>
                    </a>
                    <a href="https://www.tiktok.com/@allpreedotcom" target="_blank" class="text-gray-300 hover:text-white transition-colors duration-200">
                        <i class="fab fa-tiktok fa-lg"></i>
                    </a>
                    <a href="https://twitter.com/allpreedotcom" target="_blank" class="text-gray-300 hover:text-white transition-colors duration-200">
                        <i class="fab fa-twitter fa-lg"></i>
                    </a>
                </div>
            </div>

            <!-- My Account Column -->
            <div class="col-span-1 md:col-span-1">
                <h3 class="text-white mb-4">CASHBACK CLUB</h3>
                <ul>
                    <li><a href="https://www.allpree.com/for-giftcard" class="text-gray-300 hover:text-white transition-colors duration-200">CashBack Club: Gift Card</a></li>
                    <li><a href="https://www.allpree.com/all-stores" class="text-gray-300 hover:text-white transition-colors duration-200">CashBack Club: All Stores</a></li>
                    <li><a href="https://www.allpree.com/install" class="text-gray-300 hover:text-white transition-colors duration-200">CashBack Club: Install App</a></li>
                    <li><a href="#" class="text-gray-300 hover:text-white transition-colors duration-200">CashBack Club: How It Works</a></li>
                    
                    
                </ul>
            </div>

            <!-- Let Us Help Column -->
            <div class="col-span-1 md:col-span-1">
                <h3 class="text-white mb-4">LET US HELP</h3>
                <ul>
                    <li><a href="#" class="text-gray-300 hover:text-white transition-colors duration-200">Help Center</a></li>
                    <li><a href="#" class="text-gray-300 hover:text-white transition-colors duration-200">Contact Customer Care</a></li>
                    <li><a href="#" class="text-gray-300 hover:text-white transition-colors duration-200">Frequently Asked Questions</a></li>
                </ul>
            </div>

            <!-- Company Information Column -->
            <div class="col-span-1 md:col-span-1">
                <h3 class="text-white mb-4">COMPANY</h3>
                <ul>
                    <li><a href="https://www.allpree.com/for-retailers" class="text-gray-300 hover:text-white transition-colors duration-200">For Giftme Retailers</a></li>
                    <li><a href="https://www.allpree.com/getapp" class="text-gray-300 hover:text-white transition-colors duration-200">Get The App</a></li>
                </ul>
            </div>
        </div>
        <div class="max-w-7xl-custom mx-auto px-6 pt-4 border-t border-gray-700 text-center text-gray-400 text-xs">
            <p class="mb-2"><strong>Your Privacy is Guaranteed.</strong> We will never give, lease, or sell your personal information. Period!</p>
            <p class="mb-2">&copy; Copyright 2024 - <script>document.write(new Date().getFullYear());</script>&nbsp;Allpree Local Deals operates under the management of Allpree Group Holding Ltd. All Rights Reserved.</p>
            <p>By using our services, you agree to our <a href="/legal" class="text-blue-400 hover:underline">Terms & Conditions</a> and <a href="/legal" class="text-blue-400 hover:underline">Privacy Policy</a>.</p>
        </div>
    </footer>

    <!-- Popup Modal -->
    <div id="popup" class="popup-overlay hidden">
        <div class="popup-content">
            <span class="popup-close" onclick="closePopup()">&times;</span>
            <img  class="popup-img" id="popupImg" src="" alt="Deal Image" onerror="this.onerror=null;this.src='https://placehold.co/300x200/e0e0e0/555555?text=Image+Not+Found';">
            <h2 id="popupTitle" class="popup-title"></h2>
            <p id="popupBrand" class="popup-brand"></p>
            <div class="popup-price-info-popup">
                <p id="popupPrice" class="popup-price"></p>
                <p id="popupDiscount" class="popup-discount"></p>
            </div>
            <p id="popupDesc" class="popup-desc"></p>
            <span id="popupBadge" class="popup-badge"></span>

        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="hidden">
        <div class="spinner"></div>
    </div>

   
</body>
</html>
